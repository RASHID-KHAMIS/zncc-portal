<div class="page-header d-print-none">
    <div class="" style="margin: 0 20px 0 20px;">
        <div class="row g-2 align-items-center">
            <div class="col">
                <!-- Page pre-title -->
                <div class="page-pretitle">

                </div>
                <h2 class="page-title">
                    Business Size List
                </h2>
            </div>
            <!-- Page title actions -->
            <div class="col-auto ms-auto d-print-none">
                <div class="btn-list">
                    <button class="btn btn-primary d-none d-sm-inline-block"  (click)="openDialog()">

                        <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24"
                            stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round"
                            stroke-linejoin="round">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                            <path d="M12 5l0 14" />
                            <path d="M5 12l14 0" />
                        </svg>
                        Register Business Size
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>



<div class="page-body ">

    <div class="card">
        <div class="card-status-top bg-primary"></div>
        <mat-progress-bar mode="indeterminate" *ngIf="loading"></mat-progress-bar>
        <div style="margin:10px 0px 0px 10px;" class="example-form ml-3  mb-3">
            <label class="form-label"></label>
            <div class="input-icon" style="width: 30%;" > 
                <input type="text" #input (keyup)="applyFilter($event)" class="form-control form-control-rounded"
                    placeholder="Searchâ€¦" />
                <span class="input-icon-addon">
                    <!-- SVG icon from http://tabler-icons.io/i/search -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                        <path fill="currentColor"
                            d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5l-1.5 1.5l-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16A6.5 6.5 0 0 1 3 9.5A6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14S14 12 14 9.5S12 5 9.5 5Z" />
                    </svg>
                </span>
            </div>
        </div>
        <div style="margin: 10px;">


            <table mat-table [dataSource]="dataSource" matSort>

                <!-- ID Column -->
                <ng-container matColumnDef="No">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> SNo. </th>
                    <td mat-cell *matCellDef="let row;let i = index"> {{i + 1}} </td>
                </ng-container>

                <ng-container matColumnDef="businessName">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>business Name </th>
                    <td mat-cell *matCellDef="let row"> {{row.businessName}}
                    </td>
                </ng-container>
                <ng-container matColumnDef="amountToPay">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Amount</th>
                    <td mat-cell *matCellDef="let row"> {{row.amountToPay | number}} </td>
                </ng-container>

                <ng-container matColumnDef="distriction">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Distriction</th>
                    <td mat-cell *matCellDef="let row"> {{row.distriction}} </td>
                </ng-container>


                <ng-container matColumnDef="status">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Status</th>
                    <td mat-cell *matCellDef="let row">
                      <span *ngIf="row.currentStatus == 1">
                        <span class="badge badge-success">Active</span>
                      </span>
                      <span *ngIf="row.currentStatus == 0">
                        <span class="badge badge-danger"> In Active</span>
                      </span>
                    </td>
                  </ng-container>

                <ng-container matColumnDef="action">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Action </th>
                    <td mat-cell *matCellDef="let row">
                        <div class="row">
                            <button title="Modify" class="col-md-2 btn btn-outline-primary" (click)="openDialog2(row)">
                                <span>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                                        <path fill="currentColor"
                                            d="M21.04 12.13c.14 0 .27.06.38.17l1.28 1.28c.22.21.22.56 0 .77l-1 1l-2.05-2.05l1-1c.11-.11.25-.17.39-.17m-1.97 1.75l2.05 2.05L15.06 22H13v-2.06l6.07-6.06M10 2h4a2 2 0 0 1 2 2v2h4a2 2 0 0 1 2 2l-2 2V8H4v11h7v2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4V4a2 2 0 0 1 2-2m4 4V4h-4v2h4Z" />
                                    </svg>
                                </span>
                            </button>

                            <button title="distribute" style="margin-left: 5px;"
                                class="col-md-2 btn btn-outline-success">
                                <span>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
                                        <path fill="currentColor"
                                            d="M12.08 4.08L20 12l-7.92 7.92l-1.41-1.42l5.5-5.5H2v-2h14.17l-5.5-5.5l1.41-1.42M20 12v10h2V2h-2v10Z" />
                                    </svg>
                                </span>
                            </button>
                        </div>
                    </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

                <!-- Row shown when there is no matching data. -->
                <tr class="mat-row" *matNoDataRow>
                    <td class="mat-cell" colspan="4">No data matching the filter "{{input.value}}"</td>
                </tr>
            </table>
            <mat-paginator [pageSizeOptions]="[ 10, 25, 100]" aria-label="Select page of users"></mat-paginator>
        </div>
    </div>

</div>


<ng-template #distributionDialog>
    <app-card title="Add Business Size">
      <hr>
      <form [formGroup]="sizeForm">
        <div class="row">
          <div class="col-md-6">
            <mat-form-field  style="width: 100%;" appearance="outline">
              <mat-label>Business Size Name</mat-label>
              <input matInput placeholder="Z001" formControlName="businessName">
            </mat-form-field>
          </div>

          <div class="col-md-6">
            <mat-form-field  style="width: 100%;" appearance="outline">
              <mat-label>Amount</mat-label>
              <input matInput placeholder="Unguja" formControlName="amountToPay">
            </mat-form-field>
          </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <mat-form-field  style="width: 100%;" appearance="outline" >
                    <mat-label>Distription</mat-label>
                    <textarea matInput placeholder="Ex. It makes me feel..." formControlName="distriction"></textarea >
                  </mat-form-field>
              </div>
        </div>
      </form><br><br>

      <div class="card-bottom">
        <button mat-raised-button matDialogClose="yes" >Cancel</button> &nbsp;
        <button mat-raised-button  color="primary"  matDialogClose="yes" (click)="onSave()">Add</button>
    </div>

    </app-card>
    </ng-template>



    <ng-template #distributionDialog2>
        <app-card title="Edit Business Size">
          <hr>
          <form [formGroup]="sizeEditForm">
            <div class="row">
              <div class="col-md-6">
                <mat-form-field  style="width: 100%;" appearance="outline">
                  <mat-label>Business Size Name</mat-label>
                  <input matInput placeholder="Z001" formControlName="businessName">
                </mat-form-field>
              </div>
    
              <div class="col-md-6">
                <mat-form-field  style="width: 100%;" appearance="outline">
                  <mat-label>Amount</mat-label>
                  <input matInput placeholder="Unguja" formControlName="amountToPay">
                </mat-form-field>
              </div>
            </div>
    
            <div class="row">
                <div class="col-md-12">
                    <mat-form-field  style="width: 100%;" appearance="outline" >
                        <mat-label>Distription</mat-label>
                        <textarea matInput placeholder="Ex. It makes me feel..." formControlName="distriction"></textarea >
                      </mat-form-field>
                  </div>
            </div>
          </form><br><br>
    
          <div class="card-bottom">
            <button mat-raised-button matDialogClose="yes" >Cancel</button> &nbsp;
            <button mat-raised-button  color="primary"  matDialogClose="yes" (click)="onEdit()">Edit</button>
        </div>
    
        </app-card>
        </ng-template>